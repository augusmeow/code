{"_path":"/cpp/lib/rapidjson","_dir":"lib","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"RapidJSON","description":"RapidJSON是一个C++的JSON解析器及生成器。","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"rapidjson"},"children":[{"type":"text","value":"RapidJSON"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"RapidJSON"}]},{"type":"text","value":"是一个C++的JSON解析器及生成器。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"解析一个JSON字符串至一个document (DOM)，对DOM作出简单修改，最终把DOM转换（stringify）至JSON字符串。"}]},{"type":"element","tag":"code","props":{"code":"#include \"rapidjson/document.h\"\n#include \"rapidjson/writer.h\"\n#include \"rapidjson/stringbuffer.h\"\n#include <iostream>\nusing namespace rapidjson;\nint main() {\n    // 1. 把JSON解析至DOM。\n    const char* json = \"{\\\"project\\\":\\\"rapidjson\\\",\\\"stars\\\":10}\";\n    Document d;\n    d.Parse(json);\n    // 2. 利用DOM作出修改。\n    Value& s = d[\"stars\"];\n    s.SetInt(s.GetInt() + 1);\n    // 3. 把DOM转换（stringify）成JSON。\n    StringBuffer buffer;\n    Writer<StringBuffer> writer(buffer);\n    d.Accept(writer);\n    // Output {\"project\":\"rapidjson\",\"stars\":11}\n    std::cout << buffer.GetString() << std::endl;\n    return 0;\n}\n//对json里的数据遍历：\nfor (rapidjson::SizeType i = 0; i < doc.Size(); ++i)\n{}\nconst rapidjson::Value &gameObject = doc[i];\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"#include"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":"\"rapidjson/document.h\""}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"#include"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":"\"rapidjson/writer.h\""}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"#include"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":"\"rapidjson/stringbuffer.h\""}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"#include"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":"<iostream>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"using"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"namespace"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3f1c1e"},"children":[{"type":"text","value":"rapidjson"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36623b"},"children":[{"type":"text","value":"main"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"() {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-85dc87"},"children":[{"type":"text","value":"    // 1. 把JSON解析至DOM。"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"char*"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" json "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":"\"{"}]},{"type":"element","tag":"span","props":{"class":"ct-72a3d9"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":"project"}]},{"type":"element","tag":"span","props":{"class":"ct-72a3d9"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-72a3d9"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":"rapidjson"}]},{"type":"element","tag":"span","props":{"class":"ct-72a3d9"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-72a3d9"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":"stars"}]},{"type":"element","tag":"span","props":{"class":"ct-72a3d9"},"children":[{"type":"text","value":"\\\""}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":":10}\""}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"    Document d;"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"    d."}]},{"type":"element","tag":"span","props":{"class":"ct-36623b"},"children":[{"type":"text","value":"Parse"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"(json);"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-85dc87"},"children":[{"type":"text","value":"    // 2. 利用DOM作出修改。"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"    Value"}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"&"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" s "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" d["}]},{"type":"element","tag":"span","props":{"class":"ct-ea970d"},"children":[{"type":"text","value":"\"stars\""}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"];"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"    s."}]},{"type":"element","tag":"span","props":{"class":"ct-36623b"},"children":[{"type":"text","value":"SetInt"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"(s."}]},{"type":"element","tag":"span","props":{"class":"ct-36623b"},"children":[{"type":"text","value":"GetInt"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-72a3d9"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-85dc87"},"children":[{"type":"text","value":"    // 3. 把DOM转换（stringify）成JSON。"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"    StringBuffer buffer;"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"    Writer"}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"StringBuffer"}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36623b"},"children":[{"type":"text","value":"writer"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"(buffer);"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"    d."}]},{"type":"element","tag":"span","props":{"class":"ct-36623b"},"children":[{"type":"text","value":"Accept"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"(writer);"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-85dc87"},"children":[{"type":"text","value":"    // Output {\"project\":\"rapidjson\",\"stars\":11}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3f1c1e"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"::cout "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"<<"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" buffer."}]},{"type":"element","tag":"span","props":{"class":"ct-36623b"},"children":[{"type":"text","value":"GetString"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"<<"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3f1c1e"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"::endl;"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-72a3d9"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-85dc87"},"children":[{"type":"text","value":"//对json里的数据遍历："}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-3f1c1e"},"children":[{"type":"text","value":"rapidjson"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"::SizeType i "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-72a3d9"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"; i "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" doc."}]},{"type":"element","tag":"span","props":{"class":"ct-36623b"},"children":[{"type":"text","value":"Size"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"(); "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"++"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"i)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"{}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3f1c1e"},"children":[{"type":"text","value":"rapidjson"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"::Value "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"&"}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":"gameObject "}]},{"type":"element","tag":"span","props":{"class":"ct-c5db07"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-ad1832"},"children":[{"type":"text","value":" doc[i];"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-72a3d9{color:#0550AE}\n.ct-85dc87{color:#6E7781}\n.ct-36623b{color:#8250DF}\n.ct-3f1c1e{color:#953800}\n.ct-ea970d{color:#0A3069}\n.ct-ad1832{color:#24292F}\n.ct-c5db07{color:#CF222E}\n.dark .ct-c5db07{color:#FF7B72}\n.dark .ct-ad1832{color:#C9D1D9}\n.dark .ct-ea970d{color:#A5D6FF}\n.dark .ct-3f1c1e{color:#FFA657}\n.dark .ct-36623b{color:#D2A8FF}\n.dark .ct-85dc87{color:#8B949E}\n.dark .ct-72a3d9{color:#79C0FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:1.cpp:lib:RapidJSON.md","_source":"content","_file":"1.cpp/lib/RapidJSON.md","_extension":"md"}