{"_path":"/code/lua/2021-11-24-lua-auto-test","_dir":"lua","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"lua自动化测试指南","description":"","date":"2021-11-24T11:15:22.000Z","isOriginal":true,"category":["编程"],"tag":["lua"],"body":{"type":"root","children":[{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/luarocks/luarocks/wiki/Installation-instructions-for-Unix","rel":["nofollow"]},"children":[{"type":"text","value":"linux安装luarocks官方指南"}]}]}]},{"type":"element","tag":"h2","props":{"id":"luarocks安装过程"},"children":[{"type":"text","value":"luarocks安装过程"}]},{"type":"element","tag":"h3","props":{"id":"linux安装luarocksredhat系列"},"children":[{"type":"text","value":"linux安装luarocks（RedHat系列）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To get a default installation of Lua and LuaRocks under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/usr/local"}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"First, ensure that you have development tools installed on your system, otherwise run the command below to install\nthem"},{"type":"element","tag":"code","props":{"code":"sudo yum install libtermcap-devel ncurses-devel libevent-devel readline-devel\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"yum"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"install"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"libtermcap-devel"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"ncurses-devel"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"libevent-devel"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"readline-devel"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"build and install Lua, run the following commands to download the package tar ball, extract, build and install\nit.("},{"type":"element","tag":"a","props":{"href":"http://www.lua.org/ftp/","rel":["nofollow"]},"children":[{"type":"text","value":"lua source code"}]},{"type":"text","value":")"},{"type":"element","tag":"code","props":{"code":"-$ curl -R -O http://www.lua.org/ftp/lua-5.1.4.tar.gz\n-$ tar -zxf lua-5.1.4.tar.gz\n-$ cd lua-5.1.4\n-$ make linux test\n-$ sudo make install\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"curl"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2eb9a8"},"children":[{"type":"text","value":"-R"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2eb9a8"},"children":[{"type":"text","value":"-O"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"http://www.lua.org/ftp/lua-5.1.4.tar.gz"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"tar"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2eb9a8"},"children":[{"type":"text","value":"-zxf"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"lua-5.1.4.tar.gz"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"lua-5.1.4"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"linux"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"test"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"install"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Download and unpack the LuaRocks tarball using following commands."},{"type":"element","tag":"code","props":{"code":"-$ wget https://luarocks.org/releases/luarocks-3.8.0.tar.gz\n-$ tar zxpf luarocks-3.8.0.tar.gz\n-$ cd luarocks-3.8.0\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"wget"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"https://luarocks.org/releases/luarocks-3.8.0.tar.gz"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"tar"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"zxpf"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"luarocks-3.8.0.tar.gz"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"luarocks-3.8.0"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"./configure --with-lua-include=/usr/local/include"}]},{"type":"text","value":". (This will attempt to detect your installation of Lua. If\nyou get any error messages, see the section \"Customizing your settings\", below.)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"make"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"As superuser, run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"make install"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h3","props":{"id":"linux安装luarocksdebian系列"},"children":[{"type":"text","value":"linux安装luarocks（Debian系列）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To get a default installation of Lua and LuaRocks under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/usr/local"}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"First, ensure that you have development tools installed on your system, otherwise run the command below to install\nthem"},{"type":"element","tag":"code","props":{"code":" -$ sudo apt install build-essential libreadline-dev unzip\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"apt"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"install"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"build-essential"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"libreadline-dev"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"unzip"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"build and install Lua, run the following commands to download the package tar ball, extract, build and install\nit.("},{"type":"element","tag":"a","props":{"href":"http://www.lua.org/ftp/","rel":["nofollow"]},"children":[{"type":"text","value":"lua source code"}]},{"type":"text","value":")"},{"type":"element","tag":"code","props":{"code":"-$ curl -R -O http://www.lua.org/ftp/lua-5.1.4.tar.gz\n-$ tar -zxf lua-5.1.4.tar.gz\n-$ cd lua-5.1.4\n-$ make linux test\n-$ sudo make install\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"curl"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2eb9a8"},"children":[{"type":"text","value":"-R"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2eb9a8"},"children":[{"type":"text","value":"-O"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"http://www.lua.org/ftp/lua-5.1.4.tar.gz"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"tar"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2eb9a8"},"children":[{"type":"text","value":"-zxf"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"lua-5.1.4.tar.gz"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"lua-5.1.4"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"linux"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"test"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"install"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Download and unpack the LuaRocks tarball using following commands."},{"type":"element","tag":"code","props":{"code":"-$ wget https://luarocks.org/releases/luarocks-3.8.0.tar.gz\n-$ tar zxpf luarocks-3.8.0.tar.gz\n-$ cd luarocks-3.8.0\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"wget"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"https://luarocks.org/releases/luarocks-3.8.0.tar.gz"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"tar"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"zxpf"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"luarocks-3.8.0.tar.gz"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"-$"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"class":"ct-a8b772"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8f40a7"},"children":[{"type":"text","value":"luarocks-3.8.0"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"./configure --with-lua-include=/usr/local/include"}]},{"type":"text","value":". (This will attempt to detect your installation of Lua. If\nyou get any error messages, see the section \"Customizing your settings\", below.)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"make"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"As superuser, run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"make install"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h3","props":{"id":"windows子系统linux安装luarocks"},"children":[{"type":"text","value":"windows子系统linux安装luarocks"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装gcc"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"sudo apt install lua5.1"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"sudo apt install luarocks"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"sudo apt install lua-busted"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装pcre2，安装rapidjson（这两个可以直接copy dbproxy项目里的lua文件）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装完成"}]}]},{"type":"element","tag":"h3","props":{"id":"windows安装luarocks-极其难用-不建议在windows下操作"},"children":[{"type":"text","value":"windows安装luarocks (极其难用 不建议在Windows下操作)"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.cnblogs.com/xulang/p/12535667.html","rel":["nofollow"]},"children":[{"type":"text","value":"安装流程"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装完成后cmd运行"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"luarocks"}]},{"type":"text","value":"看是否安装成功"},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"找不到luarocks命令时，需要将图示四个文件copy放入"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lua\\5.1\\"}]},{"type":"text","value":"路径下 "},{"type":"element","tag":"img","props":{"alt":"","src":"https://i.loli.net/2021/11/24/HaimyRg9jqLStwb.png"},"children":[]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装busted"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"luarocks install busted"}]},{"type":"text","value":"\n*\n如若出现"},{"type":"element","tag":"a","props":{"href":"https://github.com/Olivine-Labs/busted/issues/590","rel":["nofollow"]},"children":[{"type":"text","value":"Error: Parse error processing dependency 'lua_cliargs = 3.0'"}]},{"type":"text","value":",请键入"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"where luarocks"}]},{"type":"text","value":"查看路径是否为您的安装路径，此现象为您在设备上安装了多个版本的luarocks系统无法确定安装版本。"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如若出现 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'mingw32-gcc'不是内部或外部命令，也不是可运行的程序"}]},{"type":"text","value":" "},{"type":"element","tag":"img","props":{"alt":"","src":"https://i.loli.net/2021/11/24/AjSJhNkOZ4FwKLY.png"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"您需要安装gcc"},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"mingw下载安装（windows安装"},{"type":"element","tag":"a","props":{"href":"https://www.msys2.org/","rel":["nofollow"]},"children":[{"type":"text","value":"指南"}]},{"type":"text","value":"）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"配置环境变量。 我的电脑->属性->高级系统设置->环境变量->系统变量"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n系统变量->Path->编辑->新建->D:\\mingw\\bin->确定"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n系统变量->新建->变量名：LIBRARY_path->变量值：D:\\mingw\\lib->确定"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n系统变量->新建->变量名：C_INCLUDE_PATH->变量值：D:\\mingw\\include->确定"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"gcc -v验证安装"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"安装其他库"},"children":[{"type":"text","value":"安装其他库"}]},{"type":"element","tag":"h3","props":{"id":"安装busted"},"children":[{"type":"text","value":"安装busted"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"luarocks install busted"}]},{"type":"text","value":" 100%安装失败"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用别的方式安装"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"先安装"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"luarocks install luasocket"}]},{"type":"text","value":"安装成功后 再安装 busted"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"luarocks install busted"}]}]}]},{"type":"element","tag":"h3","props":{"id":"安装-rapidjson"},"children":[{"type":"text","value":"安装 rapidjson"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"luarocks install rapidjson"}]}]},{"type":"element","tag":"h3","props":{"id":"安装-lrexlib-pcre2"},"children":[{"type":"text","value":"安装 Lrexlib-PCRE2"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"luarocks install Lrexlib-PCRE2"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"出现错误"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Could not find header file for PCRE2"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"/code/install_pcre.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pcre2"}]},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"yum -y install pcre2-devel"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"应该安装so库\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"yum -y install pcre2-static"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"find / -name \"*pcre2.so*\""}]}]},{"type":"element","tag":"code","props":{"code":"#输出路径\n/usr/local/lib/lua/5.1/rex_pcre2.so\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-201dd7"},"children":[{"type":"text","value":"#输出路径"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-cb08b8"},"children":[{"type":"text","value":"/usr/local/lib/lua/5.1/rex_pcre2.so"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"拷贝至lua目录"}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-201dd7{color:#6E7781}\n.ct-2eb9a8{color:#0550AE}\n.ct-8f40a7{color:#0A3069}\n.ct-a8b772{color:#24292F}\n.ct-cb08b8{color:#953800}\n.dark .ct-cb08b8{color:#FFA657}\n.dark .ct-a8b772{color:#C9D1D9}\n.dark .ct-8f40a7{color:#A5D6FF}\n.dark .ct-2eb9a8{color:#79C0FF}\n.dark .ct-201dd7{color:#8B949E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"luarocks安装过程","depth":2,"text":"luarocks安装过程","children":[{"id":"linux安装luarocksredhat系列","depth":3,"text":"linux安装luarocks（RedHat系列）"},{"id":"linux安装luarocksdebian系列","depth":3,"text":"linux安装luarocks（Debian系列）"},{"id":"windows子系统linux安装luarocks","depth":3,"text":"windows子系统linux安装luarocks"},{"id":"windows安装luarocks-极其难用-不建议在windows下操作","depth":3,"text":"windows安装luarocks (极其难用 不建议在Windows下操作)"}]},{"id":"安装其他库","depth":2,"text":"安装其他库","children":[{"id":"安装busted","depth":3,"text":"安装busted"},{"id":"安装-rapidjson","depth":3,"text":"安装 rapidjson"},{"id":"安装-lrexlib-pcre2","depth":3,"text":"安装 Lrexlib-PCRE2"}]}]}},"_type":"markdown","_id":"content:3.code:lua:2021-11-24-lua-auto-test.md","_source":"content","_file":"3.code/lua/2021-11-24-lua-auto-test.md","_extension":"md"}