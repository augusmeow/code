{"_path":"/cpp/concept/stl","_dir":"concept","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"STL","description":"refer","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"stl"},"children":[{"type":"text","value":"STL"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://zintrulcre.vip/posts/cpp/basics/basics/#%E6%89%80%E6%9C%89%E5%AE%B9%E5%99%A8","rel":["nofollow"]},"children":[{"type":"text","value":"refer"}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"容器"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"实现"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"查询"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"插入删除"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"特点"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"array"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"数组"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"大小固定"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"vector"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"数组"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"尾部 O(1)，其他 O(n)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"大小可变，扩容耗时"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"deque"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"双端队列"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(n)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"头尾 O(1)，其他 O(n)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"一个中央控制器，多个缓冲区"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"list"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"双向链表"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(n)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"forward_list"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"单向链表"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(n)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"stack"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"deque / list"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"先进后出"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"queue"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"deque / list"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"先进先出"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"priority_queue"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"vector"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(logn) 堆，完全二叉树"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"红黑树"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(logn)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(logn)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"multiset"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"红黑树"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(logn)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(logn)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"红黑树"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(logn)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(logn)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"multimap"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"红黑树"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(logn)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"O(logn)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"unordered_set"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"哈希表"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"平均 O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"平均 O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"unordered_multiset"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"哈希表"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"平均 O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"平均 O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"unordered_map"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"哈希表"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"平均 O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"平均 O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"unordered_multimap"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"哈希表"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"平均 O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"平均 O(1)"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[]}]}]}]},{"type":"element","tag":"h2","props":{"id":"常用的容器有哪些"},"children":[{"type":"text","value":"常用的容器有哪些"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"STL（Standard Template Library，标准模板库）是C++语言的一个重要组成部分，它提供了一组用于管理内存和容器数据结构的模板类。STL中常用的容器包括："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"vector：动态数组，可以存储任意类型的对象。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"deque：双端队列，可以在队列两端进行插入和删除操作。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"list：双向链表，可以在链表中任意位置进行插入和删除操作。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"set：集合，可以存储不重复的元素，并支持快速查找。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"map：映射，可以存储键值对，并支持快速查找。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除了上述容器之外，STL还包括许多其他容器，例如"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"stack"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"queue"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"priority_queue"}]},{"type":"text","value":"等。程序员可以根据实际需要选择适当的容器来管理内存和数据。"}]},{"type":"element","tag":"h2","props":{"id":"简述-vector-的实现原理"},"children":[{"type":"text","value":"简述 vector 的实现原理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vector 是一种数据结构，它的实现原理是将数据存储在一个连续的内存空间中，以便更快地访问和修改数据。与数组不同，Vector 可以自动扩展和收缩，以便存储更多的数据。由于 Vector 在内存中连续存储数据，所以它可以更快地进行读写操作，比数组更加高效。"}]},{"type":"element","tag":"h2","props":{"id":"stl-中-vector-与-list-具体是怎么实现的常见操作的时间复杂度是多少"},"children":[{"type":"text","value":"STL 中 vector 与 list 具体是怎么实现的？常见操作的时间复杂度是多少？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vector 是一种数组，其中的数据是连续存储在内存中的。因此，vector 是一个顺序容器，可以快速随机访问其中的元素。vector 的内部实现是一个动态数组，它会在需要的时候自动扩展或缩小，以适应存储的数据量。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"list 是一种链表，它的内部实现是一个单向链表。因此，list 是一个链式容器，可以高效地插入和删除元素。list 的内存分配方式和 vector 不同，它会为每个元素在内存中分配一个独立的空间，因此它可以存储不连续的数据。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 STL 中，vector 和 list 的常见操作的时间复杂度通常如下："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vector:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 vector 的末尾插入或删除元素：O(1)（常数时间）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 vector 的中间插入或删除元素：O(n)（线性时间）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"访问 vector 中的元素：O(1)（常数时间）\nlist:"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 list 的末尾插入或删除元素：O(1)"}]}]},{"type":"element","tag":"h2","props":{"id":"c-的-vector-和-list中如果删除末尾的元素其指针和迭代器如何变化若删除的是中间的元素呢"},"children":[{"type":"text","value":"C++ 的 vector 和 list中，如果删除末尾的元素，其指针和迭代器如何变化？若删除的是中间的元素呢？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 C++ 的 vector 和 list 中，如果删除的是末尾的元素，那么容器的大小会减少 1，所有指向容器末尾的指针和迭代器都会失效。但指向容器内部的指针和迭代器不会发生变化，仍然可以正常使用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果删除的是容器中间的元素，那么容器的大小也会减少 1，所有指向容器中间被删除元素的指针和迭代器都会失效。而指向容器内部其它位置的指针和迭代器可能会发生变化，例如在 vector 中，它们的位置会向前移动，因为被删除的元素会导致整个容器向前移动。因此，在删除容器中间元素时，需要格外小心，以避免导致指针和迭代器失效。"}]},{"type":"element","tag":"h2","props":{"id":"vector的reserve和capacity的区别"},"children":[{"type":"text","value":"vector的reserve和capacity的区别?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"reserve()用于让容器预留空间，避免再次内存分配；capacity() 返回在重新进行内存分配以前所能容纳的元素数量。"}]},{"type":"element","tag":"h2","props":{"id":"auto_ptr能作为vector的元素吗为什么"},"children":[{"type":"text","value":"auto_ptr能作为vector的元素吗？为什么？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不可以。 当复制一个auto_ptr时，它所指向的对象的所有权被交到复制的auto_ptr上面，而它自身将被设置为null。复制一个auto_ptr意味着改变它的值。"}]},{"type":"element","tag":"h2","props":{"id":"stl中的vector增减元素对迭代器的影响"},"children":[{"type":"text","value":"STL中的vector：增减元素对迭代器的影响"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 STL 中的 vector 中，增加或删除元素对迭代器的影响取决于操作的位置。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果在 vector 的末尾增加或删除元素，那么不会对迭代器产生任何影响。指向 vector 中任意位置的迭代器都会保持有效，并且可以继续正常使用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果在 vector 的中间增加或删除元素，那么会导致指向 vector 中间被操作位置的迭代器失效。如果是在 vector 中间插入元素，那么所有指向 vector 中间被插入元素后面的位置的迭代器都会失效，因为整个 vector 后续的元素都会向后移动。如果是在 vector 中间删除元素，那么所有指向 vector 中间被删除元素后面的位置的迭代器都会失效，因为整个 vector 后续的元素都会向前移动。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因此，在 STL 中的 vector 中，如果要在 vector 的中间增加或删除元素，需要特别小心，避免导致指向 vector 中间的迭代器失效。"}]},{"type":"element","tag":"h2","props":{"id":"在模板中如何声明嵌套从属类型即模板嵌套类型"},"children":[{"type":"text","value":"在模板中，如何声明嵌套从属类型(即模板嵌套类型)？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"template内出现的类型如果依赖于某个template参数，则称之为从属类型；如果从属类型在class内呈嵌套状，则称之为嵌套从属类型。"}]},{"type":"element","tag":"code","props":{"code":"template<typename C>\nvoid doSomething(const C& container)\n{\n    if(container.size() > 0)\n    C::iterator iter(container.begin());\n}\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"typename"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"C"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"doSomething"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"C"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"&"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"container"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(container."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"size"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"C"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::iterator "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"iter"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(container."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"begin"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"());"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"此时，根据C++的规则，编译器先假设C::iterator不是一个类型。然而iter的声明只有在C::iterator是一个类型时才合理。因此需要我们自己告诉编译器。\n那么，就需要再C::\niterator之前加上typename，告诉编译器C::iterator是一个类型。"}]},{"type":"element","tag":"code","props":{"code":"template<typename C>\nvoid doSomething(const C& container)\n{\n    if(container.size() > 0)\n    typename C::iterator iter(container.begin());\n}\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"typename"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"C"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"doSomething"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"C"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"&"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"container"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(container."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"size"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"typename"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"C"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"iterator"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"iter"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(container."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"begin"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"());"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如上就是。"}]},{"type":"element","tag":"h2","props":{"id":"stl中排序算法的实现是什么"},"children":[{"type":"text","value":"STL中排序算法的实现是什么"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"STL中的sort()，在数据量大时，采用quicksort，分段递归排序；一旦分段后的数量小于某个门限值，改用Insertion\nsort，避免quicksort深度递归带来的过大的额外负担，如果递归层次过深，还会改用heapsort。"}]},{"type":"element","tag":"h2","props":{"id":"函数模板特化与重载决议中的陷阱"},"children":[{"type":"text","value":"函数模板特化与重载决议中的陷阱"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"模板特化"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"非特化的模板也被称为主模板；"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"类模板能全特化和偏特化；"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"函数模板只能全特化，不过由于函数重载的原因，能达到偏特化的效果。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1和2中的f(p)分别会调用a、b、c中的哪一个？ 1和2中的f(p)分别会调用a、b、c中的哪一个？"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"code1"},{"type":"element","tag":"code","props":{"code":"template<typename T> void f(T);/* a */          \ntemplate<typename T> void f(T*);/* b */         \ntemplate< > void f<int>(int*);/* c */           \nint* p;                                         \nf(p);   \n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"typename"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"f"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]},{"type":"element","tag":"span","props":{"class":"ct-3206c3"},"children":[{"type":"text","value":"/* a */"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"          "}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"typename"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"f"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]},{"type":"element","tag":"span","props":{"class":"ct-3206c3"},"children":[{"type":"text","value":"/* b */"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"         "}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"< > "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"f"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":">("}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int*"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]},{"type":"element","tag":"span","props":{"class":"ct-3206c3"},"children":[{"type":"text","value":"/* c */"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"           "}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int*"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" p;                                         "}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"f"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(p);   "}]}]}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"这里，a是第一个主模板，b是第二个主模板，且b是第一个主模板a的重载而非偏特化(函数模板没有偏特化)\n。c是第二个主模板b的显式特化(全特化)。 在f(p)调用时，发生重载决议，会无视特化存在(\n标准规定：重载决议无视模板特化，重载决议只会发生在主模板之间)。在主模板a和b中决议出b，即第二个主模板被决议选中，然后再调用其全特化版本c。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"code2"},{"type":"element","tag":"code","props":{"code":"template<typename T> void f(T);/* a */\ntemplate< > void f<int*>(int*);/* b */\ntemplate<typename T> void f(T*);/* c */\nint* p;\nf(p);\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"typename"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"f"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]},{"type":"element","tag":"span","props":{"class":"ct-3206c3"},"children":[{"type":"text","value":"/* a */"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"< > "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"f"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int*"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":">("}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int*"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]},{"type":"element","tag":"span","props":{"class":"ct-3206c3"},"children":[{"type":"text","value":"/* b */"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"typename"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"f"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"T"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]},{"type":"element","tag":"span","props":{"class":"ct-3206c3"},"children":[{"type":"text","value":"/* c */"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int*"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" p;"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"f"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(p);"}]}]}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"这里a是第一个主模板，b是第一个主模板a的全特化，c是第二个主模板。在f(p)\n调用时，发生重载决议，同样会无视特化存在，在主模板a和c中决议出c，而c并无全特化版本，因此直接调用c。"}]}]},{"type":"element","tag":"h2","props":{"id":"相等和等价的区别哪些类型的容器使用相等或等价"},"children":[{"type":"text","value":"相等和等价的区别？哪些类型的容器使用相等或等价？"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"相等(equality)是以"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"operator=="}]},{"type":"text","value":"为基础，如果"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"x==y"}]},{"type":"text","value":"为真，则判定x和y相等。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"等价(equivalence)是以"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"operator<"}]},{"type":"text","value":"为基础，如果"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"!(x < y) && !(y < x)"}]},{"type":"text","value":"为真，则判定x和y等价。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通常，关联容器采用“等价”，而顺序容器采用“相等”。"}]},{"type":"element","tag":"h2","props":{"id":"vector-和-list-的区别"},"children":[{"type":"text","value":"vector 和 list 的区别"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vector 和 list 都是常用的数据结构，它们都可以用来存储一组数据。不同之处在于，vector 是一种更高效的数据结构，它的内存分配是连续的，而 list 的内存分配是离散的。这意味着，当需要在 vector 中存储或访问大量数据时，它会比 list 更快。另一方面，list 比 vector 更灵活，因为它允许在任意位置插入或删除元素。总之，两者都有各自的优势，应根据具体情况选择合适的数据结构使用。"}]},{"type":"element","tag":"h2","props":{"id":"vector-的扩容原理"},"children":[{"type":"text","value":"vector 的扩容原理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vector 是一种动态数组，它的内存空间是可以自动扩容的。当在 vector 中添加新元素时，如果 vector 内部的存储空间不够用，那么 vector 会自动分配更多的空间来存储新的元素。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"具体来说，当 vector 的存储空间不够用时，它会把当前的存储空间扩大一倍，然后把原来的数据复制到新的存储空间中。这样就能保证 vector 在扩容时的时间复杂度为 O(1)，即使在 vector 中添加了大量数据，它的性能也不会下降。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过，有时候这种自动扩容的方式可能会造成内存的浪费，因为 vector 扩容时会分配更多的空间，但并不一定全部都会被使用。因此，在使用 vector 时，应该根据具体情况来选择合适的扩容策略，以提高 vector 的内存利用率。"}]},{"type":"element","tag":"h2","props":{"id":"简述-stl-中的-map-的实现原理"},"children":[{"type":"text","value":"简述 STL 中的 map 的实现原理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"STL 中的 map 是一种关联式容器，它可以将键值对存储在一起，每个键都与一个值相关联。map 可以快速查找、插入和删除元素，因此在许多应用场景中都非常有用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"map 的底层实现通常是基于红黑树这种数据结构，红黑树是一种平衡二叉树，它能够保证查找、插入和删除的时间复杂度都为 O(log n)。在红黑树中，每个节点都有一个颜色（红色或黑色），通过控制节点的颜色和插入、删除的方式，能够保证红黑树的深度接近于log n，从而保证了红黑树的高性能。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"红黑树中的每个节点都存储着一个键值对，并且键是有序的，因此 map 中的元素也是有序的。当插入、查找或删除元素时，map 都会在红黑树中执行相应的操作，从而保证了 map 的高性能。总之，map 是一种非常实用的数据结构，能够满足许多应用场景的需求。"}]},{"type":"element","tag":"h2","props":{"id":"map-和-unordered_map-的区别"},"children":[{"type":"text","value":"map 和 unordered_map 的区别"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"map 和 unordered_map 都是 STL 中的容器，它们都可以用来存储键值对。不同之处在于，map 是一种有序容器，它会根据键的大小自动排序，而 unordered_map 是一种无序容器，它不会对键进行排序。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"另一方面，map 的底层实现是基于红黑树这种数据结构，它的查找、插入和删除操作的时间复杂度都是 O(log n)，而 unordered_map 的底层实现是基于哈希表，它的查找、插入和删除操作的时间复杂度都是 O(1)。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因此，如果你需要保证键值对的顺序，那么可以使用 map，否则可以使用 unordered_map。另外，如果你需要高性能，那么可以使用 unordered_map，因为它的时间复杂度更低。总之，两者都有各自的优势，应根据具体情况选择合适的容器使用。"}]},{"type":"element","tag":"h2","props":{"id":"stl-sort-函数的实现"},"children":[{"type":"text","value":"stl sort 函数的实现"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"STL 中的 sort 函数是一种高效的排序算法，它可以对一个数组或容器中的元素进行排序。sort 函数的实现通常是基于快速排序这种排序算法，快速排序的时间复杂度为 O(n log n)，它能够在大多数情况下保证排序的高性能。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在快速排序中，首先会选择一个基准元素，然后把数组分成两部分，一部分的元素都小于基准元素，另一部分的元素都大于基准元素。接下来，分别对这两部分的元素再次进行快速排序，直到所有的元素都排好序为止。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"STL 中的 sort 函数也是采用类似的方式来实现的。首先，它会选择一个基准元素，然后把容器中的元素分成两部分，一部分的元素都小于基准元素，另一部分的元素都大于基准元素。接着，分别对这两部分的元素再次进行快速排序，直到所有的元素都排好序为止。总之，sort 函数是一种非常实用的排序工具，能够满足许多应用场景的需求。"}]},{"type":"element","tag":"h2","props":{"id":"stl容器里哪个是线程安全的"},"children":[{"type":"text","value":"stl容器里哪个是线程安全的"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"STL 容器提供了许多常用的数据结构，如 vector、list、set 等。但是，由于它们不是线程安全的，所以在多线程环境下使用时需要注意。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在多线程环境下，同一个 STL 容器的不同线程可能同时对其进行写操作，如果不加锁的话，可能会导致数据冲突和数据不一致的问题。例如，下面的代码使用了 STL 中的 vector 模板类来实现一个线程不安全的示例："}]},{"type":"element","tag":"code","props":{"code":"#include <vector>\n#include <thread>\n\nstd::vector<int> v;\n\nvoid add_value(int value)\n{\n    v.push_back(value);\n}\n\nint main()\n{\n    std::thread t1(add_value, 1);\n    std::thread t2(add_value, 2);\n    std::thread t3(add_value, 3);\n    std::thread t4(add_value, 4);\n\n    t1.join();\n    t2.join();\n    t3.join();\n    t4.join();\n\n    return 0;\n}\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"#include"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4342f8"},"children":[{"type":"text","value":"<vector>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"#include"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4342f8"},"children":[{"type":"text","value":"<thread>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::vector"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"<int>"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" v;"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"add_value"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    v."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"push_back"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(value);"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"main"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t1"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t2"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t3"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t4"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t1."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t2."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t3."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t4."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在上面的代码中，v 是一个全局变量，它是 vector 类型的。程序启动了四个线程，每个线程都调用了 add_value 函数，并向 v 中添加了一个值。但是，由于 v 是线程不安全的，所以如果不加锁的话，它可能会导致数据冲突和数据不一致的问题。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"为了解决线程不安全的问题，可以在使用 STL 容器时使用同步机制，如互斥锁或信号量。例如，下面的代码使用了互斥锁来保证 vector 是线程安全的："}]},{"type":"element","tag":"code","props":{"code":"#include <vector>\n#include <thread>\n#include <mutex>\n\nstd::vector<int> v;\nstd::mutex m;\n\nvoid add_value(int value)\n{\n    std::lock_guard<std::mutex> lock(m);\n    v.push_back(value);\n}\n\nint main()\n{\n    std::thread t1(add_value, 1);\n    std::thread t2(add_value, 2);\n    std::thread t3(add_value, 3);\n    std::thread t4(add_value, 4);\n\n    t1.join();\n    t2.join();\n    t3.join();\n    t4.join();\n\n    return 0;\n}\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"#include"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4342f8"},"children":[{"type":"text","value":"<vector>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"#include"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4342f8"},"children":[{"type":"text","value":"<thread>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"#include"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4342f8"},"children":[{"type":"text","value":"<mutex>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::vector"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"<int>"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" v;"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::mutex m;"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"add_value"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::lock_guard"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::mutex"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"lock"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(m);"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    v."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"push_back"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(value);"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"main"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t1"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t2"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t3"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t4"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t1."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t2."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t3."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t4."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在上面的代码中，vector 模板类用于实现一个动态数组。为了保证 vector 是线程安全的，程序使用了互斥锁来同步多个线程的访问。在调用 add_value 函数时，会先加锁，然后再调用 vector 的 push_back 方法，并在函数结束时自动解锁。这样就能保证 vector 是线程安全的了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"另外，STL 中也提供了一些线程安全的容器，如 queue、stack 等。例如，下面的代码使用 STL 中的 queue 模板类来实现一个线程安全的例子："}]},{"type":"element","tag":"code","props":{"code":"#include <queue>\n#include <thread>\n\nstd::queue<int> q;\n\nvoid add_value(int value)\n{\n    q.push(value);\n}\n\nint main()\n{\n    std::thread t1(add_value, 1);\n    std::thread t2(add_value, 2);\n    std::thread t3(add_value, 3);\n    std::thread t4(add_value, 4);\n\n    t1.join();\n    t2.join();\n    t3.join();\n    t4.join();\n\n    return 0;\n}\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"#include"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4342f8"},"children":[{"type":"text","value":"<queue>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"#include"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4342f8"},"children":[{"type":"text","value":"<thread>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::queue"}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"<int>"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" q;"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"add_value"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    q."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(value);"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"main"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t1"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t2"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t3"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-230890"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"::thread "}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"t4"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"(add_value, "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t1."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t2."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t3."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    t4."}]},{"type":"element","tag":"span","props":{"class":"ct-74154d"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f7ad44"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7fac48"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f5d150"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在上面的代码中，queue 模板类用于实现一个队列。由于 queue 是线程安全的，所以在多线程环境下使用时不需要加锁。可以直接调用 queue 的 push 方法，将元素加入队列尾部。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总之，在使用 STL 容器时，应该根据实际情况选择合适的容器，并在必要时使用同步机制，来保证线程安全。这样才能让程序更稳定，并且避免出现数据不一致的问题。"}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-4342f8{color:#0A3069}\n.ct-3206c3{color:#6E7781}\n.ct-7fac48{color:#0550AE}\n.ct-74154d{color:#8250DF}\n.ct-230890{color:#953800}\n.ct-f5d150{color:#24292F}\n.ct-f7ad44{color:#CF222E}\n.dark .ct-f7ad44{color:#FF7B72}\n.dark .ct-f5d150{color:#C9D1D9}\n.dark .ct-230890{color:#FFA657}\n.dark .ct-74154d{color:#D2A8FF}\n.dark .ct-7fac48{color:#79C0FF}\n.dark .ct-3206c3{color:#8B949E}\n.dark .ct-4342f8{color:#A5D6FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"常用的容器有哪些","depth":2,"text":"常用的容器有哪些"},{"id":"简述-vector-的实现原理","depth":2,"text":"简述 vector 的实现原理"},{"id":"stl-中-vector-与-list-具体是怎么实现的常见操作的时间复杂度是多少","depth":2,"text":"STL 中 vector 与 list 具体是怎么实现的？常见操作的时间复杂度是多少？"},{"id":"c-的-vector-和-list中如果删除末尾的元素其指针和迭代器如何变化若删除的是中间的元素呢","depth":2,"text":"C++ 的 vector 和 list中，如果删除末尾的元素，其指针和迭代器如何变化？若删除的是中间的元素呢？"},{"id":"vector的reserve和capacity的区别","depth":2,"text":"vector的reserve和capacity的区别?"},{"id":"auto_ptr能作为vector的元素吗为什么","depth":2,"text":"auto_ptr能作为vector的元素吗？为什么？"},{"id":"stl中的vector增减元素对迭代器的影响","depth":2,"text":"STL中的vector：增减元素对迭代器的影响"},{"id":"在模板中如何声明嵌套从属类型即模板嵌套类型","depth":2,"text":"在模板中，如何声明嵌套从属类型(即模板嵌套类型)？"},{"id":"stl中排序算法的实现是什么","depth":2,"text":"STL中排序算法的实现是什么"},{"id":"函数模板特化与重载决议中的陷阱","depth":2,"text":"函数模板特化与重载决议中的陷阱"},{"id":"相等和等价的区别哪些类型的容器使用相等或等价","depth":2,"text":"相等和等价的区别？哪些类型的容器使用相等或等价？"},{"id":"vector-和-list-的区别","depth":2,"text":"vector 和 list 的区别"},{"id":"vector-的扩容原理","depth":2,"text":"vector 的扩容原理"},{"id":"简述-stl-中的-map-的实现原理","depth":2,"text":"简述 STL 中的 map 的实现原理"},{"id":"map-和-unordered_map-的区别","depth":2,"text":"map 和 unordered_map 的区别"},{"id":"stl-sort-函数的实现","depth":2,"text":"stl sort 函数的实现"},{"id":"stl容器里哪个是线程安全的","depth":2,"text":"stl容器里哪个是线程安全的"}]}},"_type":"markdown","_id":"content:1.cpp:concept:stl.md","_source":"content","_file":"1.cpp/concept/stl.md","_extension":"md"}