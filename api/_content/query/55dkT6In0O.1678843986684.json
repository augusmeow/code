{"_path":"/code/db/sql","_dir":"db","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"SQL","description":"","icon":"vscode-icons:file-type-plsql","body":{"type":"root","children":[{"type":"element","tag":"h3","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.runoob.com/sql/sql-insert-into-select.html","title":"more info","target":"_blank"},"children":[{"type":"text","value":"SQL INSERT INTO SELECT 语法"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"从一个表中复制所有的列插入到另一个已存在的表中："},{"type":"element","tag":"code","props":{"code":"INSERT INTO table2 SELECT * FROM table1;\n","language":"sql","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"INSERT INTO"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" table2 "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"SELECT"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"FROM"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" table1;"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"只复制希望的列插入到另一个已存在的表中："},{"type":"element","tag":"code","props":{"code":"INSERT INTO table2 (column_name(s)) SELECT column_name(s) FROM table1;\n","language":"sql","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"INSERT INTO"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" table2 (column_name(s)) "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"SELECT"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" column_name(s) "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"FROM"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" table1;"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"复制表结构及其数据："},{"type":"element","tag":"code","props":{"code":"create table table_name_new as select * from table_name_old\n","language":"sql","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"table"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b34d49"},"children":[{"type":"text","value":"table_name_new"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"select"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" table_name_old"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"只复制表结构："},{"type":"element","tag":"code","props":{"code":"create table table_name_new as select * from table_name_old where 1=2;\n","language":"sql","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"table"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b34d49"},"children":[{"type":"text","value":"table_name_new"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"select"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" table_name_old "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"where"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7b21ac"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-7b21ac"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":";"}]}]}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"或者："},{"type":"element","tag":"code","props":{"code":"create table table_name_new like table_name_old\n","language":"sql","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"table"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b34d49"},"children":[{"type":"text","value":"table_name_new"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"like"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" table_name_old"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"只复制表数据："},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果两个表结构一样："},{"type":"element","tag":"code","props":{"code":"insert into table_name_new select * from table_name_old\n","language":"sql","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"insert into"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" table_name_new "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"select"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" table_name_old"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果两个表结构不一样："},{"type":"element","tag":"code","props":{"code":"insert into table_name_new(column1,column2...) select column1,column2... from table_name_old\n","language":"sql","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"insert into"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" table_name_new(column1,column2...) "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"select"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" column1,column2... "}]},{"type":"element","tag":"span","props":{"class":"ct-82a6be"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-90cb9e"},"children":[{"type":"text","value":" table_name_old"}]}]}]}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-7b21ac{color:#0550AE}\n.ct-b34d49{color:#8250DF}\n.ct-90cb9e{color:#24292F}\n.ct-82a6be{color:#CF222E}\n.dark .ct-82a6be{color:#FF7B72}\n.dark .ct-90cb9e{color:#C9D1D9}\n.dark .ct-b34d49{color:#D2A8FF}\n.dark .ct-7b21ac{color:#79C0FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"depth":3,"text":"SQL INSERT INTO SELECT 语法"}]}},"_type":"markdown","_id":"content:3.code:db:sql.md","_source":"content","_file":"3.code/db/sql.md","_extension":"md"}