{"_path":"/notes/linux/qa","_dir":"linux","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Linux 问题收集","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"linux-问题收集"},"children":[{"type":"text","value":"Linux 问题收集"}]},{"type":"element","tag":"h2","props":{"id":"命令行使用代理"},"children":[{"type":"text","value":"命令行使用代理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"export HTTPS_PROXY=your_proxy_addr"}]}]},{"type":"element","tag":"h2","props":{"id":"zsh-权限不够解决方法"},"children":[{"type":"text","value":"zsh: 权限不够解决方法"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"chmod u+x *.sh"}]}]},{"type":"element","tag":"h2","props":{"id":"杀掉进程"},"children":[{"type":"text","value":"杀掉进程"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.cnblogs.com/wintest/p/12749090.html","rel":["nofollow"]},"children":[{"type":"text","value":"Linux下如何通过一行命令查找并杀掉进程"}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查找指定进程：agent "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ps -ef | grep agent"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"根据找到的进程号pid，强制杀掉进程（假设进程号为 15750） "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"kill -9 15750"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果我们要杀掉的进程个数不多的话，用上面的命令不需要耗费多少时间，但如果进程个数比较多的时候,\n使用 kill -9 进程号 一个个的杀掉进程，可能会比较麻烦，且耗时长。于是，我们需要一个能够快速杀掉进程的命令，如下（以杀掉所有 flask 进程为例）："}]}]},{"type":"element","tag":"code","props":{"code":"ps -ef | grep flask | grep -v grep | awk '{print $2}' | xargs kill -9\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-560954"},"children":[{"type":"text","value":"ps"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e81494"},"children":[{"type":"text","value":"-ef"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93ca89"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-560954"},"children":[{"type":"text","value":"grep"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"flask"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93ca89"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-560954"},"children":[{"type":"text","value":"grep"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e81494"},"children":[{"type":"text","value":"-v"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"grep"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93ca89"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-560954"},"children":[{"type":"text","value":"awk"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"'{print $2}'"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-93ca89"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-560954"},"children":[{"type":"text","value":"xargs"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"kill"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e81494"},"children":[{"type":"text","value":"-9"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"命令分析"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"命令"}]},{"type":"element","tag":"th","props":{"align":"center"},"children":[{"type":"text","value":"作用"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"`ps -ef"}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"grep flask`"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"grep -v grep"}]}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"过滤包含 grep 的进程行"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"awk '{print $2}'"}]}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"提取找到的进程行记录中第二列的参数，也就是flask的进程号"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"xargs kill -9"}]}]},{"type":"element","tag":"td","props":{"align":"center"},"children":[{"type":"text","value":"把前面的参数都传递给后面的命令 kill -9"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"解决linux的-bash-xx-permission-denied"},"children":[{"type":"text","value":"解决linux的-bash: ./xx: Permission denied"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在linux下执行sh文件时提示下面信息："}]},{"type":"element","tag":"code","props":{"code":"./xx.sh: Permission denied\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e81494"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-560954"},"children":[{"type":"text","value":"/xx.sh:"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"Permission"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"denied"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"解决："},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"chmod 777 xx.sh"}]}]},{"type":"element","tag":"h2","props":{"id":"g-command-not-found"},"children":[{"type":"text","value":"g++: command not found"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"G++没有装或却没有更新"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"查看："},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"g++ --version"}]}]},{"type":"element","tag":"code","props":{"code":"# centos：\nyum -y update gcc #(更新)\nyum -y install gcc+ gcc-c++\n# ubuntu：\napt-get update gcc #(更新)\napt-get install g++\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5ce518"},"children":[{"type":"text","value":"# centos："}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-560954"},"children":[{"type":"text","value":"yum"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e81494"},"children":[{"type":"text","value":"-y"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"update"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"gcc"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5ce518"},"children":[{"type":"text","value":"#(更新)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-560954"},"children":[{"type":"text","value":"yum"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e81494"},"children":[{"type":"text","value":"-y"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"install"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"gcc+"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"gcc-c++"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5ce518"},"children":[{"type":"text","value":"# ubuntu："}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-560954"},"children":[{"type":"text","value":"apt-get"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"update"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"gcc"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5ce518"},"children":[{"type":"text","value":"#(更新)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-560954"},"children":[{"type":"text","value":"apt-get"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"install"}]},{"type":"element","tag":"span","props":{"class":"ct-9179db"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c59a63"},"children":[{"type":"text","value":"g++"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-5ce518{color:#6E7781}\n.ct-c59a63{color:#0A3069}\n.ct-93ca89{color:#CF222E}\n.ct-e81494{color:#0550AE}\n.ct-9179db{color:#24292F}\n.ct-560954{color:#953800}\n.dark .ct-560954{color:#FFA657}\n.dark .ct-9179db{color:#C9D1D9}\n.dark .ct-e81494{color:#79C0FF}\n.dark .ct-93ca89{color:#FF7B72}\n.dark .ct-c59a63{color:#A5D6FF}\n.dark .ct-5ce518{color:#8B949E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"命令行使用代理","depth":2,"text":"命令行使用代理"},{"id":"zsh-权限不够解决方法","depth":2,"text":"zsh: 权限不够解决方法"},{"id":"杀掉进程","depth":2,"text":"杀掉进程"},{"id":"解决linux的-bash-xx-permission-denied","depth":2,"text":"解决linux的-bash: ./xx: Permission denied"},{"id":"g-command-not-found","depth":2,"text":"g++: command not found"}]}},"_type":"markdown","_id":"content:5.notes:linux:qa.md","_source":"content","_file":"5.notes/linux/qa.md","_extension":"md"}