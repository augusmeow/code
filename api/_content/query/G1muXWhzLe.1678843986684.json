{"_path":"/cpp/tips/base","_dir":"tips","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"base","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"base"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"h2","props":{"id":"读书笔记"},"children":[{"type":"text","value":"读书笔记"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"不要在头文件使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"using"}]},{"type":"text","value":"，防止多个引用造成命名冲突"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vector"}]},{"type":"text","value":"能够高效增长，不要在初始化的时候指定"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vector"}]},{"type":"text","value":"大小，除非所有值都一样"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"class"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"img","props":{"alt":"1","src":"/code/cpp_class.png"},"children":[]}]}]},{"type":"element","tag":"h2","props":{"id":"count"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"需要某元素总个数时，使用count"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于只需要知道包含特定元素的数量的应用来说，这是最简单的方式。如果count返回0，则表示不存在该元素。"}]},{"type":"element","tag":"code","props":{"code":"if (count(v.begin(), v.end(), key))\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"count"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"begin"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(), v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"end"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(), key))"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"find"},"children":[{"type":"text","value":"find"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"仅判断是否存在某元素，使用find"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"find会在查找到指定值后立即返回，所以它一般比count更快（因为count总是要遍历整个容器）。"}]},{"type":"element","tag":"code","props":{"code":"if (std::find(v.begin(), v.end(), key) != v.end())\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-d21fa7"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"find"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"begin"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(), v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"end"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(), key) "}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"end"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"())"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"find_if-any_of"},"children":[{"type":"text","value":"find_if any_of"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"支持复杂条件的查找时，使用any_of(仅知道是否存在)/find_if(返回了第一个元素的迭代器)"}]}]},{"type":"element","tag":"h3","props":{"id":"stdfind_if"},"children":[{"type":"text","value":"std::find_if"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"它也能完成任务，但有点大材小用了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"find_if需要一个判别式。如果查找的值需要满足特定的条件时，比如查找小于3且大于1的值时，适合该方式。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果有多个值符合条件，则返回查找到符合条件的第一个值的迭代器。"}]},{"type":"element","tag":"code","props":{"code":"if (std::find_if(v.begin(), v.end(), [] (int i) { return i < 3 && i > 1 } ) != v.end())\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-d21fa7"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"find_if"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"begin"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(), v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"end"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(), [] ("}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d21fa7"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":") { "}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" i "}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1dbfeb"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" i "}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1dbfeb"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" } ) "}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"end"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"())"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"stdany_of"},"children":[{"type":"text","value":"std::any_of"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"与find_if类似，但它返回bool值。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果判断式返回true，则它也返回true。否则返回false。"}]},{"type":"element","tag":"code","props":{"code":"if (std::any_of(v.begin(), v.end(), [] (int i) { return i < 3 && i > 1 } ))\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-d21fa7"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"any_of"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"begin"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(), v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"end"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(), [] ("}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d21fa7"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":") { "}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" i "}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1dbfeb"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" i "}]},{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1dbfeb"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" } ))"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"扩展：std::none_of，是any_of的反面。也就是，当判断式是false时它返回true，否则返回flase。"}]},{"type":"element","tag":"h2","props":{"id":"binary_search"},"children":[{"type":"text","value":"binary_search"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于已经排序的vector，使用 binary_search"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"作为磨刀不误砍柴工的一种方式，可以对vector先排序，再查找，就可以使用二分查找了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"二分查找的时间效率为O(logn)。"}]},{"type":"element","tag":"code","props":{"code":"sort(v.begin(), v.end());\nif (std::binary_search(v.begin(), v.end(), key))\n","language":"cpp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"sort"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"begin"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(), v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"end"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"());"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-242f75"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-d21fa7"},"children":[{"type":"text","value":"std"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"::"}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"binary_search"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"begin"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(), v."}]},{"type":"element","tag":"span","props":{"class":"ct-7fb192"},"children":[{"type":"text","value":"end"}]},{"type":"element","tag":"span","props":{"class":"ct-75d91b"},"children":[{"type":"text","value":"(), key))"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-1dbfeb{color:#0550AE}\n.ct-d21fa7{color:#953800}\n.ct-7fb192{color:#8250DF}\n.ct-75d91b{color:#24292F}\n.ct-242f75{color:#CF222E}\n.dark .ct-242f75{color:#FF7B72}\n.dark .ct-75d91b{color:#C9D1D9}\n.dark .ct-7fb192{color:#D2A8FF}\n.dark .ct-d21fa7{color:#FFA657}\n.dark .ct-1dbfeb{color:#79C0FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"读书笔记","depth":2,"text":"读书笔记"},{"id":"count","depth":2,"text":"count"},{"id":"find","depth":2,"text":"find"},{"id":"find_if-any_of","depth":2,"text":"find_if any_of","children":[{"id":"stdfind_if","depth":3,"text":"std::find_if"},{"id":"stdany_of","depth":3,"text":"std::any_of"}]},{"id":"binary_search","depth":2,"text":"binary_search"}]}},"_type":"markdown","_id":"content:1.cpp:tips:base.md","_source":"content","_file":"1.cpp/tips/base.md","_extension":"md"}