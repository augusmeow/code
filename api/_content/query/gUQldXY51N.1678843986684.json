{"_path":"/notes/linux/sys_base_info","_dir":"linux","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"查看Linux的基本信息","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"查看linux的基本信息"},"children":[{"type":"text","value":"查看Linux的基本信息"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Linux查看版本当前操作系统内核信息 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"uname -a"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Linux查看当前操作系统版本信息 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /proc/version"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lsb_release -a"}]},{"type":"text","value":"，即可列出所有版本信息。这个命令适用于所有的Linux发行版，包括RedHat、SUSE、Debian…等发行版。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /etc/redhat-release"}]},{"type":"text","value":"，这种方法只适合Redhat系的Linux"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /etc/issue"}]},{"type":"text","value":"，此命令也适用于所有的Linux发行版"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /proc/cpuinfo"}]},{"type":"text","value":" 查看CPU信息"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lscpu"}]},{"type":"text","value":" Linux查看cpu相关信息，包括型号、主频、内核信息等"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nproc"}]},{"type":"text","value":" cpu core"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"getconf LONG_BIT"}]},{"type":"text","value":" 查看cpu运行在32位还是64位"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hostname"}]},{"type":"text","value":" 查看服务器名称"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ifconfig"}]},{"type":"text","value":" 查看网络信息 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /etc/sysconfig/network-scripts/ifcfg-eth0"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lsblk"}]},{"type":"text","value":" 查看磁盘信息 - 列出所有可用块设备的信息，而且还能显示他们之间的依赖关系，但是它不会列出RAM盘的信息"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"fdisk -l"}]},{"type":"text","value":" 观察硬盘实体使用情况，也可对硬盘分区"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"df -k"}]},{"type":"text","value":" 用于显示磁盘分区上的可使用的磁盘空间"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看pci信息，即主板所有硬件槽信息："},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lspci"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果要更详细的信息:"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lspci -v"}]},{"type":"text","value":" 或者 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lspci -vv"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果要看设备树:"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lspci -t"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lspci -tv"}]},{"type":"text","value":" # 列出所有PCI设备"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lsusb -tv"}]},{"type":"text","value":" # 列出所有USB设备"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lsmod"}]},{"type":"text","value":" # 列出加载的内核模块"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"env"}]},{"type":"text","value":" # 查看环境变量资源"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"free -m"}]},{"type":"text","value":" # 查看内存使用量和交换区使用量"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"df -h"}]},{"type":"text","value":" # 查看各分区使用情况"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"du -sh <目录名>"}]},{"type":"text","value":" # 查看指定目录的大小"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"grep MemTotal /proc/meminfo"}]},{"type":"text","value":" # 查看内存总量"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"grep MemFree /proc/meminfo"}]},{"type":"text","value":" # 查看空闲内存量"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"uptime"}]},{"type":"text","value":" # 查看系统运行时间、用户数、负载"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /proc/loadavg"}]},{"type":"text","value":" # 查看系统负载磁盘和分区"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"mount | column -t"}]},{"type":"text","value":" # 查看挂接的分区状态"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"swapon -s"}]},{"type":"text","value":" # 查看所有交换分区"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hdparm -i /dev/hda"}]},{"type":"text","value":" # 查看磁盘参数(仅适用于IDE设备)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"dmesg | grep IDE"}]},{"type":"text","value":" # 查看启动时IDE设备检测状况网络"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"iptables -L"}]},{"type":"text","value":" # 查看防火墙设置"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route -n"}]},{"type":"text","value":" # 查看路由表"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"netstat -lntp"}]},{"type":"text","value":" # 查看所有监听端口"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"netstat -antp"}]},{"type":"text","value":" # 查看所有已经建立的连接"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"netstat -s"}]},{"type":"text","value":" # 查看网络统计信息进程"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ps -ef"}]},{"type":"text","value":" # 查看所有进程"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"top"}]},{"type":"text","value":" # 实时显示进程状态用户"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"w"}]},{"type":"text","value":" # 查看活动用户"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"id <用户名>"}]},{"type":"text","value":" # 查看指定用户信息"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"last"}]},{"type":"text","value":" # 查看用户登录日志"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cut -d: -f1 /etc/passwd"}]},{"type":"text","value":" # 查看系统所有用户"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cut -d: -f1 /etc/group"}]},{"type":"text","value":" # 查看系统所有组"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"crontab -l"}]},{"type":"text","value":" # 查看当前用户的计划任务服务"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"chkconfig –list"}]},{"type":"text","value":" # 列出所有系统服务"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"chkconfig –list | grep on"}]},{"type":"text","value":" # 列出所有启动的系统服务程序"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rpm -qa"}]},{"type":"text","value":" # 查看所有安装的软件包"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看/proc/uptime文件计算系统启动时间："},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /proc/uptime"}]},{"type":"text","value":"\n输出: 5113396.94 575949.85\n第一数字即是系统已运行的时间5113396.94秒，运用系统工具date即可算出系统启动时间\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"date -d \"$(awk -F. '{print $1}' /proc/uptime) second ago\" +\"%Y-%m-%d %H:%M:%S\""}]},{"type":"text","value":"\n输出: 2018-01-02 06:50:52"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看/proc/uptime文件计算系统运行时间\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /proc/uptime| awk -F. '{run_days=$1 / 86400;run_hour=($1 % 86400)/3600;run_minute=($1 % 3600)/60;run_second=$1 % 60;printf(\"系统已运行：%d天%d时%d分%d秒\",run_days,run_hour,run_minute,run_second)}'"}]},{"type":"text","value":"\n输出:系统已运行：1天1时36分13秒"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Linux查看物理CPU个数、核数、逻辑CPU个数"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"总核数 = 物理CPU个数 X 每颗物理CPU的核数"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"总逻辑CPU数 = 物理CPU个数 X 每颗物理CPU的核数 X 超线程数"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看物理CPU个数"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /proc/cpuinfo| grep \"physical id\"| sort| uniq| wc -l"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看每个物理CPU中core的个数(即核数) "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /proc/cpuinfo| grep \"cpu cores\"| uniq"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看逻辑CPU的个数 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /proc/cpuinfo| grep \"processor\"| wc -l"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看CPU信息（型号）"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看网卡硬件信息 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lspci | grep -i 'eth'"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查看系统的所有网络接口："},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ifconfig -a"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果要查看某个网络接口的详细信息，例如eth0的详细参数和指标："},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ethtool eth0"}]}]}]},{"type":"element","tag":"h2","props":{"id":"目录"},"children":[{"type":"text","value":"目录"}]},{"type":"element","tag":"h3","props":{"id":"linux-proc目录详解"},"children":[{"type":"text","value":"Linux /proc目录详解"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"/proc目录\nLinux 内核提供了一种通过 /proc 文件系统，在运行时访问内核内部数据结构、改变内核设置的机制。proc文件系统是一个伪文件系统，它只存在内存当中，而不占用外存空间。它以文件系统的方式为访问系统内核数据的操作提供接口。\n用户和应用程序可以通过proc得到系统的信息，并可以改变内核的某些参数。由于系统的信息，如进程，是动态改变的，所以用户或应用程序读取proc文件时，proc文件系统是动态从系统内核读出所需信息并提交的。下面列出的这些文件或子文件夹，并不是都是在你的系统中存在，这取决于你的内核配置和装载的模块。另外，在/proc下还有三个很重要的目录：net，scsi和sys。 Sys目录是可写的，可以通过它来访问或修改内核的参数，而net和scsi则依赖于内核配置。例如，如果系统不支持scsi，则scsi 目录不存在。\n除了以上介绍的这些，还有的是一些以数字命名的目录，它们是进程目录。系统中当前运行的每一个进程都有对应的一个目录在/proc下，以进程的 PID号为目录名，它们是读取进程信息的接口。而self目录则是读取进程本身的信息接口，是一个link。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"子文件或子文件夹\n/proc/buddyinfo 每个内存区中的每个order有多少块可用，和内存碎片问题有关\n/proc/cmdline 启动时传递给kernel的参数信息\n/proc/cpuinfo cpu的信息\n/proc/crypto 内核使用的所有已安装的加密密码及细节\n/proc/devices 已经加载的设备并分类\n/proc/dma 已注册使用的ISA DMA频道列表\n/proc/execdomains Linux内核当前支持的execution domains\n/proc/fb 帧缓冲设备列表，包括数量和控制它的驱动\n/proc/filesystems 内核当前支持的文件系统类型\n/proc/interrupts x86架构中的每个IRQ中断数\n/proc/iomem 每个物理设备当前在系统内存中的映射\n/proc/ioports 一个设备的输入输出所使用的注册端口范围\n/proc/kcore 代表系统的物理内存，存储为核心文件格式，里边显示的是字节数，等于RAM大小加上4kb\n/proc/kmsg 记录内核生成的信息，可以通过/sbin/klogd或/bin/dmesg来处理\n/proc/loadavg 根据过去一段时间内CPU和IO的状态得出的负载状态，与uptime命令有关\n/proc/locks 内核锁住的文件列表\n/proc/mdstat 多硬盘，RAID配置信息(md=multiple disks)\n/proc/meminfo RAM使用的相关信息\n/proc/misc 其他的主要设备(设备号为10)上注册的驱动\n/proc/modules 所有加载到内核的模块列表\n/proc/mounts 系统中使用的所有挂载\n/proc/mtrr 系统使用的Memory Type Range Registers (MTRRs)\n/proc/partitions 分区中的块分配信息\n/proc/pci 系统中的PCI设备列表\n/proc/slabinfo 系统中所有活动的 slab 缓存信息\n/proc/stat 所有的CPU活动信息\n/proc/sysrq-trigger 使用echo命令来写这个文件的时候，远程root用户可以执行大多数的系统请求关键命令，就好像在本地终端执行一样。要写入这个文件，需要把/proc/sys/kernel/sysrq不能设置为0。这个文件对root也是不可读的\n/proc/uptime 系统已经运行了多久\n/proc/swaps 交换空间的使用情况\n/proc/version Linux内核版本和gcc版本\n/proc/bus 系统总线(Bus)信息，例如pci/usb等\n/proc/driver 驱动信息\n/proc/fs 文件系统信息\n/proc/ide ide设备信息\n/proc/irq 中断请求设备信息\n/proc/net 网卡设备信息\n/proc/scsi scsi设备信息\n/proc/tty tty设备信息\n/proc/net/dev 显示网络适配器及统计信息\n/proc/vmstat 虚拟内存统计信息\n/proc/vmcore 内核panic时的内存映像\n/proc/diskstats 取得磁盘信息\n/proc/schedstat kernel调度器的统计信息\n/proc/zoneinfo 显示内存空间的统计信息，对分析虚拟内存行为很有用"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下是/proc目录中进程N的信息\n/proc/N pid为N的进程信息\n/proc/N/cmdline 进程启动命令\n/proc/N/cwd 链接到进程当前工作目录\n/proc/N/environ 进程环境变量列表\n/proc/N/exe 链接到进程的执行命令文件\n/proc/N/fd 包含进程相关的所有的文件描述符\n/proc/N/maps 与进程相关的内存映射信息\n/proc/N/mem 指代进程持有的内存，不可读\n/proc/N/root 链接到进程的根目录\n/proc/N/stat 进程的状态\n/proc/N/statm 进程使用的内存的状态\n/proc/N/status 进程状态信息，比stat/statm更具可读性\n/proc/self 链接到当前正在运行的进程"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"目录","depth":2,"text":"目录","children":[{"id":"linux-proc目录详解","depth":3,"text":"Linux /proc目录详解"}]}]}},"_type":"markdown","_id":"content:5.notes:linux:sys_base_info.md","_source":"content","_file":"5.notes/linux/sys_base_info.md","_extension":"md"}