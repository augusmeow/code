{"_path":"/cpp/qa","_dir":"cpp","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"遇到的问题速查","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"遇到的问题速查"},"children":[{"type":"text","value":"遇到的问题速查"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"代码过程遇到的一些问题速查表"}]}]},{"type":"element","tag":"h2","props":{"id":"version-glibcxx_3429-not-found"},"children":[{"type":"text","value":"version `GLIBCXX_3.4.29' not found"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"查看报错 libc 的情况"}]},{"type":"element","tag":"code","props":{"code":"strings /your_path/libstdc++.so.6 | grep GLIBC\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-348c1a"},"children":[{"type":"text","value":"strings"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c65b23"},"children":[{"type":"text","value":"/your_path/libstdc++.so."}]},{"type":"element","tag":"span","props":{"class":"ct-237b21"},"children":[{"type":"text","value":"6"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2bd7fb"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-348c1a"},"children":[{"type":"text","value":"grep"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c65b23"},"children":[{"type":"text","value":"GLIBC"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"发现确实没有 version `GLIBCXX_3.4.29’"}]},{"type":"element","tag":"code","props":{"code":"find / -name libstdc++.so.6\n","language":"shell","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-348c1a"},"children":[{"type":"text","value":"find"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c65b23"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-237b21"},"children":[{"type":"text","value":"-name"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c65b23"},"children":[{"type":"text","value":"libstdc++.so."}]},{"type":"element","tag":"span","props":{"class":"ct-237b21"},"children":[{"type":"text","value":"6"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在找到的列表里，逐个寻找 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GLIBCXX_3.4.29"}]},{"type":"text","value":"，找到后，将此 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"libstdc++.so.6"}]},{"type":"text","value":" 替换到之前错误路径下"}]},{"type":"element","tag":"h2","props":{"id":"os-error-code-4-interrupted-system-call"},"children":[{"type":"text","value":"OS error code 4: Interrupted system call"}]},{"type":"element","tag":"h2","props":{"id":"error-invalid-storage-class-for-function"},"children":[{"type":"text","value":"error: invalid storage class for function"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"报错的函数的前面的那一个函数{}不配对"}]},{"type":"element","tag":"h2","props":{"id":"地址消毒器"},"children":[{"type":"text","value":"地址消毒器"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"为什么必须是下面这个顺序？暂时还不晓得"}]},{"type":"element","tag":"code","props":{"code":"set_target_properties (app PROPERTIES LINK_FLAGS \"-fsanitize=address\")\nset_target_properties (app PROPERTIES LINK_FLAGS \"-static\")\nset_target_properties (app PROPERTIES LINK_FLAGS \"-lpthread\")\n","language":"cmake","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2bd7fb"},"children":[{"type":"text","value":"set_target_properties"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" (app PROPERTIES "}]},{"type":"element","tag":"span","props":{"class":"ct-237b21"},"children":[{"type":"text","value":"LINK_FLAGS"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c65b23"},"children":[{"type":"text","value":"\"-fsanitize=address\""}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2bd7fb"},"children":[{"type":"text","value":"set_target_properties"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" (app PROPERTIES "}]},{"type":"element","tag":"span","props":{"class":"ct-237b21"},"children":[{"type":"text","value":"LINK_FLAGS"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c65b23"},"children":[{"type":"text","value":"\"-static\""}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2bd7fb"},"children":[{"type":"text","value":"set_target_properties"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" (app PROPERTIES "}]},{"type":"element","tag":"span","props":{"class":"ct-237b21"},"children":[{"type":"text","value":"LINK_FLAGS"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c65b23"},"children":[{"type":"text","value":"\"-lpthread\""}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"原本是这样的"}]},{"type":"element","tag":"code","props":{"code":"set_target_properties (app PROPERTIES LINK_FLAGS \"-static\")\nset_target_properties (app PROPERTIES LINK_FLAGS \"-lpthread\")\nset_target_properties (app PROPERTIES LINK_FLAGS \"-fsanitize=address\")\n","language":"cmake","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2bd7fb"},"children":[{"type":"text","value":"set_target_properties"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" (app PROPERTIES "}]},{"type":"element","tag":"span","props":{"class":"ct-237b21"},"children":[{"type":"text","value":"LINK_FLAGS"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c65b23"},"children":[{"type":"text","value":"\"-static\""}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2bd7fb"},"children":[{"type":"text","value":"set_target_properties"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" (app PROPERTIES "}]},{"type":"element","tag":"span","props":{"class":"ct-237b21"},"children":[{"type":"text","value":"LINK_FLAGS"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c65b23"},"children":[{"type":"text","value":"\"-lpthread\""}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2bd7fb"},"children":[{"type":"text","value":"set_target_properties"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" (app PROPERTIES "}]},{"type":"element","tag":"span","props":{"class":"ct-237b21"},"children":[{"type":"text","value":"LINK_FLAGS"}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c65b23"},"children":[{"type":"text","value":"\"-fsanitize=address\""}]},{"type":"element","tag":"span","props":{"class":"ct-7d02c3"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"抛出错误"}]},{"type":"element","tag":"code","props":{"code":"undefined reference to symbol 'pthread_join@@GLIBC_2.0'\n//lib/i386-linux-gnu/libpthread.so.0: error adding symbols: DSO missing from command line\ncollect2: error: ld returned 1 exit status\n","language":"txt","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"undefined reference to symbol 'pthread_join@@GLIBC_2.0'\n//lib/i386-linux-gnu/libpthread.so.0: error adding symbols: DSO missing from command line\ncollect2: error: ld returned 1 exit status"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"segfault-at-11-ip-00007f24b21adcee-sp-00007fff7379ded0-error-4-in"},"children":[{"type":"text","value":"segfault at 11 ip 00007f24b21adcee sp 00007fff7379ded0 error 4 in"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://stackoverflow.com/questions/2549214/interpreting-segfault-messages","rel":["nofollow"]},"children":[{"type":"text","value":"refer"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"addr2line -e yourSegfaultingProgram 00007f9bebcca90d"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"address"}]},{"type":"text","value":" (after the at) - the location in memory the code is trying to access (it's likely that 10 and 11 are offsets from a pointer we expect to be set to a valid value but which is instead pointing to 0)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ip"}]},{"type":"text","value":" - instruction pointer, ie. where the code which is trying to do this lives"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"sp"}]},{"type":"text","value":" - stack pointer"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error"}]},{"type":"text","value":" - An error code for page faults; see below for what this means on x86 ("},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"link"}]},{"type":"text","value":")."}]}]},{"type":"element","tag":"code","props":{"code":"/*\n * Page fault error code bits:\n *\n *   bit 0 ==    0: no page found       1: protection fault\n *   bit 1 ==    0: read access         1: write access\n *   bit 2 ==    0: kernel-mode access  1: user-mode access\n *   bit 3 ==                           1: use of reserved bit detected\n *   bit 4 ==                           1: fault was an instruction fetch\n *   bit 5 ==                           1: protection keys block access\n *   bit 15 ==                          1: SGX MMU page-fault\n */\n","language":"h","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"/*\n * Page fault error code bits:\n *\n *   bit 0 ==    0: no page found       1: protection fault\n *   bit 1 ==    0: read access         1: write access\n *   bit 2 ==    0: kernel-mode access  1: user-mode access\n *   bit 3 ==                           1: use of reserved bit detected\n *   bit 4 ==                           1: fault was an instruction fetch\n *   bit 5 ==                           1: protection keys block access\n *   bit 15 ==                          1: SGX MMU page-fault\n */"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-2bd7fb{color:#CF222E}\n.ct-237b21{color:#0550AE}\n.ct-c65b23{color:#0A3069}\n.ct-7d02c3{color:#24292F}\n.ct-348c1a{color:#953800}\n.dark .ct-348c1a{color:#FFA657}\n.dark .ct-7d02c3{color:#C9D1D9}\n.dark .ct-c65b23{color:#A5D6FF}\n.dark .ct-237b21{color:#79C0FF}\n.dark .ct-2bd7fb{color:#FF7B72}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"version-glibcxx_3429-not-found","depth":2,"text":"version `GLIBCXX_3.4.29' not found"},{"id":"os-error-code-4-interrupted-system-call","depth":2,"text":"OS error code 4: Interrupted system call"},{"id":"error-invalid-storage-class-for-function","depth":2,"text":"error: invalid storage class for function"},{"id":"地址消毒器","depth":2,"text":"地址消毒器"},{"id":"segfault-at-11-ip-00007f24b21adcee-sp-00007fff7379ded0-error-4-in","depth":2,"text":"segfault at 11 ip 00007f24b21adcee sp 00007fff7379ded0 error 4 in"}]}},"_type":"markdown","_id":"content:1.cpp:qa.md","_source":"content","_file":"1.cpp/qa.md","_extension":"md"}