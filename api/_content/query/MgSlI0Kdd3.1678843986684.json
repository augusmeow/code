{"_path":"/code/front-end/vuepress","_dir":"front-end","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"VuePress","description":"","icon":"logos:vue","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"vuepress"},"children":[{"type":"text","value":"VuePress"}]},{"type":"element","tag":"h2","props":{"id":"曾用-vuepress-开发所遇到的问题"},"children":[{"type":"text","value":"曾用 VuePress 开发所遇到的问题"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本地调试无法显示上次更新，及贡献者。"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"启动脚本 加入 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"--debug"}]}]}]},{"type":"element","tag":"h3","props":{"id":"plugin"},"children":[{"type":"text","value":"plugin"}]},{"type":"element","tag":"h4","props":{"id":"docsearch"},"children":[{"type":"text","value":"docsearch"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://v2.vuepress.vuejs.org/zh/reference/plugin/docsearch.html#%E8%8E%B7%E5%8F%96%E6%90%9C%E7%B4%A2%E7%B4%A2%E5%BC%95","rel":["nofollow"]},"children":[{"type":"text","value":"获取搜索索引"}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docsearch.algolia.com/apply/","rel":["nofollow"]},"children":[{"type":"text","value":"sign up"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"copy key, id"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"run py to make index, use "},{"type":"element","tag":"a","props":{"href":"https://docsearch.algolia.com/docs/legacy/run-your-own/#run-the-crawl-from-the-docker-image","rel":["nofollow"]},"children":[{"type":"text","value":"docker"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"主题通过 "},{"type":"element","tag":"a","props":{"href":"https://v2.vuepress.vuejs.org/zh/reference/plugin/git.html","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@vuepress/plugin-git"}]}]},{"type":"text","value":" 插件在页面底部显示页面的最后更新时间与贡献者，并提供了“编辑此页”按钮的支持。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"主题同时根据侧边栏配置提供上一页和下一页的导航按钮。"}]},{"type":"element","tag":"h4","props":{"id":"基于-git-的信息"},"children":[{"type":"text","value":"基于 Git 的信息"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过内置 "},{"type":"element","tag":"a","props":{"href":"https://v2.vuepress.vuejs.org/zh/reference/plugin/git.html","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@vuepress/plugin-git"}]}]},{"type":"text","value":" 插件，实现了页面创建时间、最后更新时间与贡献者的自动生成。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"插件会通过页面文件最后一次 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"git"}]},{"type":"text","value":" 提交的 UNIX 时间戳 (ms) 来自动生成页面创建时间和最后更新时间，同时根据提交记录生成贡献者。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"主题将以合适的日期格式将最后更新时间显示在每一页的底部，同时显示该页面所有贡献者。"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"主题会使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Date.toLocaleString(pageLang)"}]},{"type":"text","value":" 自动根据当前语言，本地化最后更新时间的表述文字。"}]}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用注意事项"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由于最后更新时间是基于 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"git"}]},{"type":"text","value":" 的, 所以你只能在一个基于 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"git"}]},{"type":"text","value":" 的项目中启用它。此外，由于使用的时间戳来自 git commit，因此它将仅在给定页的第一次提交之后显示，并且仅在该页面后续提交更改时更新。"}]}]},{"type":"element","tag":"alert","props":{"type":"danger"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"开发模式默认禁用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由于 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"git"}]},{"type":"text","value":" 插件对性能有严重影响，所以默认情况下"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"主题不会在开发模式下启用"}]},{"type":"text","value":"。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n如有需要，请在主题选项中设置 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"plugins.git: true"}]},{"type":"text","value":" 或使用 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"--debug"}]},{"type":"text","value":" 标志运行开发指令。"}]}]},{"type":"element","tag":"h4","props":{"id":"编辑此页链接"},"children":[{"type":"text","value":"编辑此页链接"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你可以通过在主题选项中中设置如下项目，来自动为每个页面生成编辑此页链接:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"docsRepo"}]},{"type":"text","value":": 文档仓库地址，默认同主题选项中的 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"repo"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"docsDir"}]},{"type":"text","value":": 文档在仓库中的目录，默认为根目录"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"docsBranch"}]},{"type":"text","value":": 文档存放的分值，默认为 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"main\""}]}]}]},{"type":"element","tag":"h4","props":{"id":"显示控制"},"children":[{"type":"text","value":"显示控制"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你想要全局禁用这些项目的显示，请在主题选项中中，将以下对应项目设置为 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"。你也可以通过 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"YAML front matter"}]},{"type":"text","value":" 中设置这些项目来启用/禁用指定页面:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lastUpdated"}]},{"type":"text","value":": 是否显示页面最后更新时间"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"contributors"}]},{"type":"text","value":": 是否显示页面贡献者"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"editLink"}]},{"type":"text","value":": 是否展示编辑此页链接"}]}]},{"type":"element","tag":"h3","props":{"id":"各种奇怪报错"},"children":[{"type":"text","value":"各种奇怪报错"}]},{"type":"element","tag":"h4","props":{"id":"client-版本不一致"},"children":[{"type":"text","value":"client 版本不一致"}]},{"type":"element","tag":"code","props":{"code":"✔ Compiling with vite - done in 58.94s\n✖ Rendering 394 pages - failed in 10.09s\nReferenceError: Cannot access 'clientConfigs' before initialization\n    at file:///Users/apple/Documents/GitHub/draugus.github.io/src/.vuepress/.temp/.server/app.ab084cb7.mjs:3264:17\n    at ModuleJob.run (node:internal/modules/esm/module_job:193:25)\n    at async Promise.all (index 0)\n    at async ESMLoader.import (node:internal/modules/esm/loader:526:24)\n    at async file:///Users/apple/Documents/GitHub/draugus.github.io/node_modules/@vuepress/bundler-vite/dist/index.js:420:30\n    at async file:///Users/apple/Documents/GitHub/draugus.github.io/node_modules/@vuepress/utils/dist/index.js:98:20\n    at async build (file:///Users/apple/Documents/GitHub/draugus.github.io/node_modules/@vuepress/bundler-vite/dist/index.js:408:3)\n    at async CAC.<anonymous> (file:///Users/apple/Documents/GitHub/draugus.github.io/node_modules/@vuepress/cli/dist/index.js:228:3)\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\n","language":"txt","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"✔ Compiling with vite - done in 58.94s\n✖ Rendering 394 pages - failed in 10.09s\nReferenceError: Cannot access 'clientConfigs' before initialization\n    at file:///Users/apple/Documents/GitHub/draugus.github.io/src/.vuepress/.temp/.server/app.ab084cb7.mjs:3264:17\n    at ModuleJob.run (node:internal/modules/esm/module_job:193:25)\n    at async Promise.all (index 0)\n    at async ESMLoader.import (node:internal/modules/esm/loader:526:24)\n    at async file:///Users/apple/Documents/GitHub/draugus.github.io/node_modules/@vuepress/bundler-vite/dist/index.js:420:30\n    at async file:///Users/apple/Documents/GitHub/draugus.github.io/node_modules/@vuepress/utils/dist/index.js:98:20\n    at async build (file:///Users/apple/Documents/GitHub/draugus.github.io/node_modules/@vuepress/bundler-vite/dist/index.js:408:3)\n    at async CAC.<anonymous> (file:///Users/apple/Documents/GitHub/draugus.github.io/node_modules/@vuepress/cli/dist/index.js:228:3)\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command."}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"请确保你在使用最新的 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vuepress"}]},{"type":"text","value":" V2 版本，因为一些你遇到的 bug 可能已经在新版本中修复。"}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"任何以 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@vuepress/plugin-"}]},{"type":"text","value":" 开头的官方插件应该和 VuePress 保持相同版本。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n如果你使用了其他第三方插件，请确保它兼容你要升级到的 VuePress 版本。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"事实上并不是 版本不同 引起这个错误"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vue 本身也需要升级 真的是绝了"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"算了 不用了"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"每次升级都需要做大量的修改！主题难用至极！！！弃用主题"}]},{"type":"element","tag":"h4","props":{"id":"cannot-read-properties-of-undefined"},"children":[{"type":"text","value":"Cannot read properties of undefined"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"todo"}]},{"type":"element","tag":"h4","props":{"id":"dayjs-真的无语"},"children":[{"type":"text","value":"dayjs 真的无语"}]},{"type":"element","tag":"code","props":{"code":"import * as dayjs from 'dayjs'\n","language":"typescript","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66e116"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-e16fdd"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3b3eff"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-e16fdd"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-66e116"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-e16fdd"},"children":[{"type":"text","value":" dayjs "}]},{"type":"element","tag":"span","props":{"class":"ct-66e116"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-e16fdd"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-40da91"},"children":[{"type":"text","value":"'dayjs'"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"debug模式可以正常启动。build时，抛出异常 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Cannot call a namespace ('dayjs')"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"TypeError: dayjs__namespace is not a function"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"改为"}]},{"type":"element","tag":"code","props":{"code":"const dayjs = require('dayjs')\n","language":"typescript","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66e116"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-e16fdd"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3b3eff"},"children":[{"type":"text","value":"dayjs"}]},{"type":"element","tag":"span","props":{"class":"ct-e16fdd"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-66e116"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e16fdd"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-be2a83"},"children":[{"type":"text","value":"require"}]},{"type":"element","tag":"span","props":{"class":"ct-e16fdd"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-40da91"},"children":[{"type":"text","value":"'dayjs'"}]},{"type":"element","tag":"span","props":{"class":"ct-e16fdd"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"build正常，debug模式直接报错，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ReferenceError: require is not defined"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"最终解决方案换成js"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://github.com/DrAugus/draugus.github.io/commit/c0f38f802693f358570c78730b5a4848d81609d8","rel":["nofollow"]},"children":[{"type":"text","value":"c0f38f8"}]}]},{"type":"element","tag":"h2","props":{"id":"之前的开发历程"},"children":[{"type":"text","value":"之前的开发历程"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220516: 受"},{"type":"element","tag":"a","props":{"href":"https://github.com/DGP-Studio/Snap.Genshin.Docs","rel":["nofollow"]},"children":[{"type":"text","value":"Snap.Genshin.Docs"}]},{"type":"text","value":"启发，模仿，并立项。初步目标为，apple、war、docs "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"2b2be8d"}]},{"type":"text","value":" 进行多语言支持，出于当前学习的语言，进行支持，支持部分页面的 🇩🇪 🇰🇷\n🇫🇷 🇮🇹 🇬🇧 "},{"type":"element","tag":"del","props":{},"children":[{"type":"text","value":"当然现在已经除了主页全都不支持了"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"5b17fd9"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220517: 构建踩坑 修复 采用 ACCESS_TOKEN 在GitHub配置 Secrets。feat giscus, can't work at that time"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220519: feat accident memory"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220520: try bors, failed. feat ivanka by "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"zbl"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220521: feat trip"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220523: feat taylor by "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"zbl"}]},{"type":"text","value":" 。giscus AVALIABLE"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220524: try geojson, failed"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220526: feat markdown plugin, markdown-it-katex"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220531: feat blog"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220601: new "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"theme"}]},{"type":"text","value":", "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"2e4478b"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220602: genshin migrate "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"2d2b54f"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220622: 调整博客filter "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"d282e56"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220629: feat google analysis "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"2c1bf23"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220701: fix _ file "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"github-community"}]},{"type":"text","value":", "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"8b69956"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220704: feat "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"heti"}]},{"type":"text","value":" 赫蹏 "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"ad71f7b"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220711: feat "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"modal"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"https://segmentfault.com/a/1190000022700216","rel":["nofollow"]},"children":[{"type":"text","value":"组件传值"}]},{"type":"text","value":", "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"dbf37f6"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"20220712: feat genshin "},{"type":"element","tag":"a","props":{"href":"https://stackoverflow.com/questions/5072136/javascript-filter-for-objects","rel":["nofollow"]},"children":[{"type":"text","value":"filter"}]},{"type":"text","value":" "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"4f5cf06"}]},{"type":"text","value":", css "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"grid"}]},{"type":"text","value":", "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"cb517cc"}]},{"type":"text","value":". 另左右滚动列表实现暂时抛弃，参见"},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"原神官网角色"}]},{"type":"text","value":"底部"}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-be2a83{color:#8250DF}\n.ct-40da91{color:#0A3069}\n.ct-3b3eff{color:#0550AE}\n.ct-e16fdd{color:#24292F}\n.ct-66e116{color:#CF222E}\n.dark .ct-66e116{color:#FF7B72}\n.dark .ct-e16fdd{color:#C9D1D9}\n.dark .ct-3b3eff{color:#79C0FF}\n.dark .ct-40da91{color:#A5D6FF}\n.dark .ct-be2a83{color:#D2A8FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"曾用-vuepress-开发所遇到的问题","depth":2,"text":"曾用 VuePress 开发所遇到的问题","children":[{"id":"plugin","depth":3,"text":"plugin"},{"id":"各种奇怪报错","depth":3,"text":"各种奇怪报错"}]},{"id":"之前的开发历程","depth":2,"text":"之前的开发历程"}]}},"_type":"markdown","_id":"content:3.code:front-end:vuepress.md","_source":"content","_file":"3.code/front-end/vuepress.md","_extension":"md"}